app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: note
  use_icon_as_answer_icon: false
kind: app
version: 0.1.5
workflow:
  conversation_variables:
  - description: ''
    id: 4ee79d0b-06f4-432c-915f-87c21904d570
    name: username
    selector:
    - conversation
    - username
    value: ''
    value_type: string
  - description: ''
    id: 1b786a10-0126-40d0-9a96-3c0d8bdafacd
    name: unrelated
    selector:
    - conversation
    - unrelated
    value: è¯·æä¾›å…·ä½“çš„æ¶ˆè´¹é¡¹ç›®å’Œé‡‘é¢ï¼Œä»¥ä¾¿æˆ‘ä¸ºæ‚¨åˆ†ç±»å’Œè®¡ç®—ã€‚
    value_type: string
  - description: ''
    id: 8ec20b63-5035-4600-bdb4-bf4a16827957
    name: baseURL
    selector:
    - conversation
    - baseURL
    value: http://172.16.17.11:8000
    value_type: string
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: 'æˆ‘æ˜¯è®°è´¦å°åŠ©æ‰‹ï¼Œè¯·è¾“å…¥ä½ çš„æ¶ˆè´¹æƒ…å†µï¼Œæˆ‘å°†è‡ªåŠ¨è¿›è¡Œåˆ†ç±»ï¼Œå¼€å§‹ä¹‹å‰è¯·å‘Šè¯‰æˆ‘ä½ æ˜¯è°ï¼Œå¦‚ï¼šâ€œæˆ‘æ˜¯wannaâ€

      åç»­è¾“å…¥ç¤ºä¾‹å¦‚ä¸‹'
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions:
    - ç«é”…98å…ƒï¼ŒåŠ¨è½¦80å…ƒ
    - ä»Šå¤©æ¶ˆè´¹äº†å¤šå°‘
    - ä¸Šæœˆäº¤é€šå¤šå°‘
    - 25å¹´1-4æœˆé¤é¥®æ¶ˆè´¹å¤šå°‘
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: true
        iteration_id: '1735897604770'
        sourceType: iteration-start
        targetType: code
      id: 1735897604770start-source-1735897685066-target
      source: 1735897604770start
      sourceHandle: source
      target: '1735897685066'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        iteration_id: '1735897604770'
        sourceType: code
        targetType: http-request
      id: 1735897685066-source-1735898167137-target
      source: '1735897685066'
      sourceHandle: source
      target: '1735898167137'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        sourceType: iteration
        targetType: answer
      id: 1735897604770-source-answer-target
      source: '1735897604770'
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: if-else
      id: 1735892896203-source-1736128469303-target
      source: '1735892896203'
      sourceHandle: source
      target: '1736128469303'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: answer
      id: 1736128469303-true-1736128132886-target
      source: '1736128469303'
      sourceHandle: 'true'
      target: '1736128132886'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: code
      id: 1736128469303-false-1735896817956-target
      source: '1736128469303'
      sourceHandle: 'false'
      target: '1735896817956'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: iteration
      id: 1735896817956-source-1735897604770-target
      source: '1735896817956'
      sourceHandle: source
      target: '1735897604770'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: question-classifier
        targetType: answer
      id: 1736232177392-1736232351782-1736232379279-target
      source: '1736232177392'
      sourceHandle: '1736232351782'
      target: '1736232379279'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: code
      id: 1736232556019-source-17362326145650-target
      selected: false
      source: '1736232556019'
      sourceHandle: source
      target: '17362326145650'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: http-request
      id: 1736238350702-source-1736232556019-target
      source: '1736238350702'
      sourceHandle: source
      target: '1736232556019'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: code
      id: 1736148511832-source-1736216704021-target
      source: '1736148511832'
      sourceHandle: source
      target: '1736216704021'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: question-classifier
      id: 1736216704021-source-1736232177392-target
      source: '1736216704021'
      sourceHandle: source
      target: '1736232177392'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: llm
      id: 1736243568815-source-1736238350702-target
      source: '1736243568815'
      sourceHandle: source
      target: '1736238350702'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: code
      id: 17362326145650-source-1736304048131-target
      source: '17362326145650'
      sourceHandle: source
      target: '1736304048131'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: answer
      id: 1736304048131-source-1736232783984-target
      source: '1736304048131'
      sourceHandle: source
      target: '1736232783984'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: question-classifier
        targetType: llm
      id: 1736232177392-1736316907868-1736316957768-target
      source: '1736232177392'
      sourceHandle: '1736316907868'
      target: '1736316957768'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: assigner
      id: 1736316957768-source-1736317156171-target
      source: '1736316957768'
      sourceHandle: source
      target: '1736317156171'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: question-classifier
        targetType: if-else
      id: 1736232177392-1-1736317289184-target
      source: '1736232177392'
      sourceHandle: '1'
      target: '1736317289184'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1736317289184-true-1735892896203-target
      source: '1736317289184'
      sourceHandle: 'true'
      target: '1735892896203'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: answer
      id: 1736317289184-false-1736317316685-target
      source: '1736317289184'
      sourceHandle: 'false'
      target: '1736317316685'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: question-classifier
        targetType: if-else
      id: 1736232177392-2-1736317358189-target
      source: '1736232177392'
      sourceHandle: '2'
      target: '1736317358189'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: tool
      id: 1736317358189-true-1736243568815-target
      source: '1736317358189'
      sourceHandle: 'true'
      target: '1736243568815'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: answer
      id: 1736317358189-false-1736317316685-target
      source: '1736317358189'
      sourceHandle: 'false'
      target: '1736317316685'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: assigner
        targetType: http-request
      id: 1736317156171-source-1736318798024-target
      source: '1736317156171'
      sourceHandle: source
      target: '1736318798024'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: answer
      id: 1736318798024-source-1736317395413-target
      source: '1736318798024'
      sourceHandle: source
      target: '1736317395413'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: start
        targetType: assigner
      id: 1735892418047-source-1736407559905-target
      source: '1735892418047'
      sourceHandle: source
      target: '1736407559905'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: assigner
        targetType: http-request
      id: 1736407559905-source-17364078159750-target
      source: '1736407559905'
      sourceHandle: source
      target: '17364078159750'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: http-request
      id: 17364078159750-source-1736148511832-target
      source: '17364078159750'
      sourceHandle: source
      target: '1736148511832'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables: []
      height: 54
      id: '1735892418047'
      position:
        x: 30
        y: 324
      positionAbsolute:
        x: 30
        y: 324
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1735896817956.result#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 103
      id: answer
      position:
        x: 3822
        y: 753.5
      positionAbsolute:
        x: 3822
        y: 753.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0
          mode: chat
          name: gpt-4o
          provider: openai
        prompt_template:
        - id: fe817de7-e3f6-4fe4-8ed3-84e50cd0fb8b
          role: system
          text: 'ä½ æ˜¯äººæ€§åŒ–çš„è®°è´¦å°åŠ©æ‰‹ï¼Œéœ€è¦å°†ç”¨æˆ·ç»æµæ´»åŠ¨åˆ†ç±»åˆ°å¦‚ä¸‹ç±»ç›®ï¼š{{#1736216704021.result#}}ï¼Œå¹¶ä¸”è®¡ç®—å‡ºå…·ä½“é‡‘é¢ã€‚å¦‚æœæ˜¯ç”¨æˆ·æ„æ–™ä¹‹å¤–çš„è´¹ç”¨åˆ™è®°ä¸ºâ€œæ„å¤–æ”¯å‡ºâ€ï¼Œå¦‚ä¸¢å¤±ï¼Œè¢«éª—ï¼Œç½šæ¬¾ï¼Œè¢«å·ç­‰ï¼Œä½†æ˜¯éå¿…è¦ä¸è¦è®°å½•æˆâ€œæ„å¤–æ”¯å‡ºâ€ï¼Œå³æœ‰æ›´é€‚åˆçš„å…¶ä»–åˆ†ç±»ä¼˜å…ˆä½¿ç”¨å…¶ä»–åˆ†ç±»ã€‚å¦‚æœéœ€è¦è®¡ç®—å¾—å¤±æ—¶ï¼Œè¯·å……åˆ†è€ƒè™‘ç”Ÿæ´»æ—¥å¸¸æƒ…å†µã€‚å¦‚æœç”¨æˆ·æä¾›ä¿¡æ¯å’Œè®°è´¦æ— å…³ï¼Œè¯·ç›´æ¥å›å¤ï¼š{{#conversation.unrelated#}}

            è¿”å›æ ¼å¼ï¼šç±»ç›®1:é‡‘é¢1,ç±»ç›®2:é‡‘é¢2

            ä¸€ä¸ªç±»ç›®åªèƒ½è¿”å›ä¸€æ¡æ•°æ®ï¼Œä¸”éœ€è¦æ±‡æ€»è®¡ç®—è¯¥ç±»ç›®ä¸‹çš„å…¨éƒ¨é‡‘é¢

            <example>

            ç”¨æˆ·ï¼šå°æ˜åè½¦å»ä¸Šå­¦ï¼Œå…¬äº¤èŠ±äº†2å…ƒï¼Œåœ°é“èŠ±äº†4.6å…ƒ,æ ¡é—¨å£ä¹°äº†ä¸ªé¦’å¤´èŠ±äº†2å…ƒ

            è¿”å›ï¼šäº¤é€šå‡ºè¡Œ:6.6,é¤é¥®é£Ÿå“:2

            </example>

            <example>

            ç”¨æˆ·ï¼šå°æ˜å–æ°´èŠ±äº†2å…ƒï¼Œåƒé¥­14.6å…ƒ

            è¿”å›ï¼šé¤é¥®é£Ÿå“:16.6

            </example>

            <example>

            ç”¨æˆ·ï¼šåƒåˆé¥­äº†

            è¿”å›ï¼š{{#conversation.unrelated#}}

            </example>

            <example>

            ç”¨æˆ·ï¼šåˆé¥­18

            è¿”å›ï¼šé¤é¥®é£Ÿå“:18

            </example>

            <example>

            ç”¨æˆ·ï¼šä¹°èœç»™äº†100ï¼Œæ‰¾äº†28.5

            è¿”å›ï¼šé¤é¥®é£Ÿå“:71.5

            </example>

            <example>

            ç”¨æˆ·ï¼šå»ä¹°èœï¼Œ5æ¯›ä¸€æ–¤ï¼Œä¹°äº†20æ–¤ï¼Œç»™äº†ä¸€ç™¾å—ï¼Œæ‰¾äº†æˆ‘50

            è¿”å›ï¼šé¤é¥®é£Ÿå“:10,æ„å¤–æ”¯å‡º:40

            </example>'
        - id: 685c5fe4-0755-4423-ba01-99826fdc0bbe
          role: user
          text: '{{#sys.query#}}'
        selected: false
        title: LLM
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1735892896203'
      position:
        x: 2158
        y: 631.5
      positionAbsolute:
        x: 2158
        y: 631.5
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "def main(input_str: str) -> dict:\n    if not input_str:\n        return\
          \ {'result': []}\n    \n    input_str = input_str.strip().strip('\"')\n\
          \    items = [item.strip() for item in input_str.split(',')]\n    \n   \
          \ return {'result': items}"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: array[string]
        selected: false
        title: ä»£ç æ‰§è¡Œ
        type: code
        variables:
        - value_selector:
          - '1735892896203'
          - text
          variable: input_str
      height: 54
      id: '1735896817956'
      position:
        x: 2766
        y: 803
      positionAbsolute:
        x: 2766
        y: 803
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        error_handle_mode: terminated
        height: 207
        is_parallel: false
        iterator_selector:
        - '1735896817956'
        - result
        output_selector:
        - '1735898167137'
        - body
        output_type: array[string]
        parallel_nums: 10
        selected: false
        start_node_id: 1735897604770start
        title: è¿­ä»£
        type: iteration
        width: 692
      height: 207
      id: '1735897604770'
      position:
        x: 3070
        y: 753.5
      positionAbsolute:
        x: 3070
        y: 753.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 692
      zIndex: 1
    - data:
        desc: ''
        isInIteration: true
        selected: false
        title: ''
        type: iteration-start
      draggable: false
      height: 48
      id: 1735897604770start
      parentId: '1735897604770'
      position:
        x: 24
        y: 68
      positionAbsolute:
        x: 3094
        y: 821.5
      selectable: false
      sourcePosition: right
      targetPosition: left
      type: custom-iteration-start
      width: 44
      zIndex: 1002
    - data:
        code: "def main(input_str: str) -> dict:\n    input_str = input_str.strip().strip('\"\
          ')\n    data = input_str.split(\":\")\n    return {\"type\": data[0], \"\
          amount\": float(data[1])}"
        code_language: python3
        desc: ''
        isInIteration: true
        iteration_id: '1735897604770'
        outputs:
          amount:
            children: null
            type: number
          type:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ 2
        type: code
        variables:
        - value_selector:
          - '1735897604770'
          - item
          variable: input_str
      height: 54
      id: '1735897685066'
      parentId: '1735897604770'
      position:
        x: 128
        y: 69.42857142857144
      positionAbsolute:
        x: 3198
        y: 822.9285714285714
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: []
          type: none
        desc: ''
        headers: ''
        isInIteration: true
        iteration_id: '1735897604770'
        method: post
        params: "amount:{{#1735897685066.amount#}}\ncategory_name:{{#1735897685066.type#}}\n\
          org_content:{{#1735897685066.type#}}:{{#1735897685066.amount#}}||{{#sys.query#}}\
          \ \nuser_name:{{#conversation.username#}}"
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP è¯·æ±‚ 2
        type: http-request
        url: '{{#conversation.baseURL#}}/note/add'
        variables: []
      height: 122
      id: '1735898167137'
      parentId: '1735897604770'
      position:
        x: 430.4038755170395
        y: 65
      positionAbsolute:
        x: 3500.4038755170395
        y: 818.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        answer: 'æœ¬é¡¹ç›®ä»…ç”¨äºè®°è´¦ï¼Œè¯·è¾“å…¥æ¶ˆè´¹ä¿¡æ¯

          '
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 2
        type: answer
        variables: []
      height: 100
      id: '1736128132886'
      position:
        x: 2766
        y: 663
      positionAbsolute:
        x: 2766
        y: 663
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: b94bf6ca-bdea-49a6-af38-556cb97704de
            value: '{{#conversation.unrelated#}}'
            varType: string
            variable_selector:
            - '1735892896203'
            - text
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯
        type: if-else
      height: 126
      id: '1736128469303'
      position:
        x: 2462
        y: 642.5
      positionAbsolute:
        x: 2462
        y: 642.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: []
          type: none
        desc: ''
        headers: ''
        method: get
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP è¯·æ±‚ 2
        type: http-request
        url: '{{#conversation.baseURL#}}/category/list'
        variables: []
      height: 122
      id: '1736148511832'
      position:
        x: 942
        y: 324
      positionAbsolute:
        x: 942
        y: 324
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "def main(input_str: str) -> dict:\n    import json\n    data = json.loads(input_str)\n\
          \    names = data['data']['name']\n    concatenated_names = \",\".join(names)\n\
          \    return {'result': concatenated_names}"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: è·å–åˆ†ç±»åˆ—è¡¨
        type: code
        variables:
        - value_selector:
          - '1736148511832'
          - body
          variable: input_str
      height: 54
      id: '1736216704021'
      position:
        x: 1246
        y: 324
      positionAbsolute:
        x: 1246
        y: 324
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        classes:
        - id: '1'
          name: ç»æµæ´»åŠ¨æ–¹å¼å’Œé‡‘é¢
        - id: '2'
          name: æ¶ˆè´¹æ±‡æ€»éœ€æ±‚
        - id: '1736232351782'
          name: å…¶ä»–
        - id: '1736316907868'
          name: ç”¨æˆ·åå­—
        desc: ''
        instructions: ''
        model:
          completion_params:
            temperature: 0
          mode: chat
          name: deepseek-chat
          provider: deepseek
        query_variable_selector:
        - '1735892418047'
        - sys.query
        selected: false
        title: é—®é¢˜åˆ†ç±»å™¨
        topics: []
        type: question-classifier
        vision:
          enabled: false
      height: 248
      id: '1736232177392'
      position:
        x: 1550
        y: 324
      positionAbsolute:
        x: 1550
        y: 324
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#conversation.unrelated#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 3
        type: answer
        variables: []
      height: 103
      id: '1736232379279'
      position:
        x: 1854
        y: 324
      positionAbsolute:
        x: 1854
        y: 324
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: []
          type: none
        desc: ''
        headers: ''
        method: get
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: è·å–æŸæ®µæ—¶é—´çš„æ¶ˆè´¹é¢
        type: http-request
        url: '{{#conversation.baseURL#}}/note/info?{{#1736238350702.text#}}&user_name={{#conversation.username#}}'
        variables: []
      height: 159
      id: '1736232556019'
      position:
        x: 2766
        y: 921
      positionAbsolute:
        x: 2766
        y: 921
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "def main(input_str: str) -> dict:\n    import json\n    data = json.loads(input_str)\n\
          \    amount = data['data']['amount']\n    lists = data['data']['list']\n\
          \    return {'result': amount,'lists':lists}\n"
        code_language: python3
        desc: ''
        outputs:
          lists:
            children: null
            type: array[object]
          result:
            children: null
            type: number
        selected: false
        title: å–å‡ºæ¶ˆè´¹æ•°æ®
        type: code
        variables:
        - value_selector:
          - '1736232556019'
          - body
          variable: input_str
      height: 54
      id: '17362326145650'
      position:
        x: 3294
        y: 1000.5
      positionAbsolute:
        x: 3294
        y: 1000.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#17362326145650.result#}}

          {{#1736304048131.output#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 4
        type: answer
        variables: []
      height: 121
      id: '1736232783984'
      position:
        x: 4126
        y: 924
      positionAbsolute:
        x: 4126
        y: 924
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: deepseek-chat
          provider: deepseek
        prompt_config:
          jinja2_variables: []
        prompt_template:
        - edition_type: basic
          id: 231bee5f-e465-48fb-a1c5-670e9b834008
          jinja2_text: 'ä½ æ˜¯ä¸€ä¸ªé—®ç­”æœºå™¨äºº

            æ ¹æ®ç”¨æˆ·çš„æé—®ï¼Œåˆ†æç”¨æˆ·æƒ³è¦æŸ¥è¯¢çš„æ—¶é—´æ®µå’Œæ¶ˆè´¹ç±»å‹ã€‚æ¶ˆè´¹ç±»å‹åˆ—è¡¨ï¼š{{#1736216704021.result#}}ï¼Œæ¶ˆè´¹ç±»å‹åªèƒ½ä»è¿™ä¸ªåˆ—è¡¨ä¸­é€‰æ‹©ï¼Œå¦‚æœå®Œå…¨æ²¡æåŠç±»å‹åˆ™ç±»å‹ä¸º"all"ã€‚è¿”å›æ ¼å¼"category=æ¶ˆè´¹ç±»å‹&star=å¼€å§‹æ—¶é—´&end=ç»“æŸæ—¶é—´"

            ### æ¡ˆä¾‹1

            å‡å¦‚ç°åœ¨æ—¶é—´æ˜¯ 2025-05-04 12:20:10

            å¦‚æœç”¨æˆ·è¾“å…¥: æ˜¨å¤©çš„é¤é¥®è´¹ç”¨

            è¾“å‡º:category=é¤é¥®é£Ÿå“&start=2025-05-03 00:00:00&end=2025-05-04 00:00:00

            ### æ¡ˆä¾‹2

            å‡å¦‚ç°åœ¨æ—¶é—´æ˜¯ 2025-03-04 12:20:10

            å¦‚æœç”¨æˆ·è¾“å…¥: è¿™ä¸¤å¤©çš„è´¹ç”¨

            è¾“å‡º:category=all&start=2025-03-03 00:00:00&end=2025-03-04 12:20:10

            ### æ¡ˆä¾‹3

            å‡å¦‚ç°åœ¨æ—¶é—´æ˜¯ 2021-09-07 12:20:10

            å¦‚æœç”¨æˆ·è¾“å…¥: è¿™ä¸ªæœˆçš„äº¤é€šè´¹ç”¨

            è¾“å‡º:category=äº¤é€šå‡ºè¡Œ&start=2021-09-01 00:00:00&end=2021-09-07 12:20:10

            '
          role: system
          text: 'ä½ æ˜¯ä¸€ä¸ªé—®ç­”æœºå™¨äººï¼Œå½“å‰æ—¶é—´æ˜¯ {{#1736243568815.text#}}

            æ ¹æ®ç”¨æˆ·çš„æé—®ï¼Œåˆ†æç”¨æˆ·æƒ³è¦æŸ¥è¯¢çš„æ—¶é—´æ®µå’Œæ¶ˆè´¹ç±»å‹ã€‚æ¶ˆè´¹ç±»å‹åˆ—è¡¨ï¼š{{#1736216704021.result#}}ï¼Œæ¶ˆè´¹ç±»å‹åªèƒ½ä»è¿™ä¸ªåˆ—è¡¨ä¸­é€‰æ‹©ï¼Œå¦‚æœå®Œå…¨æ²¡æåŠç±»å‹åˆ™ç±»å‹ä¸º"all"ã€‚è¿”å›æ ¼å¼"category=æ¶ˆè´¹ç±»å‹&star=å¼€å§‹æ—¶é—´&end=ç»“æŸæ—¶é—´"

            ### æ¡ˆä¾‹1

            å‡å¦‚ç°åœ¨æ—¶é—´æ˜¯ 2025-05-04 12:20:10

            å¦‚æœç”¨æˆ·è¾“å…¥: æ˜¨å¤©çš„é¤é¥®è´¹ç”¨

            è¾“å‡º:category=é¤é¥®é£Ÿå“&start=2025-05-03 00:00:00&end=2025-05-04 00:00:00

            ### æ¡ˆä¾‹2

            å‡å¦‚ç°åœ¨æ—¶é—´æ˜¯ 2025-03-04 12:20:10

            å¦‚æœç”¨æˆ·è¾“å…¥: è¿™ä¸¤å¤©çš„è´¹ç”¨

            è¾“å‡º:category=all&start=2025-03-03 00:00:00&end=2025-03-04 12:20:10

            ### æ¡ˆä¾‹3

            å‡å¦‚ç°åœ¨æ—¶é—´æ˜¯ 2021-09-07 12:20:10

            å¦‚æœç”¨æˆ·è¾“å…¥: è¿™ä¸ªæœˆçš„äº¤é€šè´¹ç”¨

            è¾“å‡º:category=äº¤é€šå‡ºè¡Œ&start=2021-09-01 00:00:00&end=2021-09-07 12:20:10

            '
        - id: 37094a4d-bce2-46d0-a86c-45acfc15b8bf
          role: user
          text: '{{#sys.query#}}'
        selected: false
        title: è·å–urlå‚æ•°
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1736238350702'
      position:
        x: 2462
        y: 944
      positionAbsolute:
        x: 2462
        y: 944
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        provider_id: time
        provider_name: time
        provider_type: builtin
        selected: false
        title: è·å–å½“å‰æ—¶é—´
        tool_configurations:
          format: '%Y-%m-%d %H:%M:%S'
          timezone: Asia/Shanghai
        tool_label: è·å–å½“å‰æ—¶é—´
        tool_name: current_time
        tool_parameters: {}
        type: tool
      height: 116
      id: '1736243568815'
      position:
        x: 2158
        y: 910
      positionAbsolute:
        x: 2158
        y: 910
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\nfrom collections import defaultdict\n\ndef main(data):\n\
          \    # å¦‚æœ data ä¸º None æˆ–ä¸æ˜¯åˆ—è¡¨ï¼Œè¿”å›ç©ºç»“æœ\n    if not isinstance(data, list):\n\
          \        return {\"output\": {}}\n    \n    # åˆ†ç±»æ±‡æ€»æ•°æ®\n    category_sums\
          \ = defaultdict(float)\n    for item in data:\n        category_name = item.get(\"\
          category_name\", \"Unknown\")\n        amount = item.get(\"amount\", 0)\n\
          \        category_sums[category_name] += amount\n    \n    # å‡†å¤‡è¿”å›æ•°æ®ä¸ºå­—å…¸æ ¼å¼\n\
          \    pie_data = {category: amount for category, amount in category_sums.items()}\n\
          \    return {\"output\": pie_data}"
        code_language: python3
        desc: ''
        outputs:
          output:
            children: null
            type: object
        selected: false
        title: ç»˜åˆ¶echartsè¡¨æ ¼
        type: code
        variables:
        - value_selector:
          - '17362326145650'
          - lists
          variable: data
      height: 54
      id: '1736304048131'
      position:
        x: 3822
        y: 948.5
      positionAbsolute:
        x: 3822
        y: 948.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: deepseek-chat
          provider: deepseek
        prompt_template:
        - id: 95c8c1f4-6692-49f0-b0a5-af9e0c712cd6
          role: system
          text: 'ä½ æ˜¯ä¸€ä¸ªé—®ç­”åŠ©æ‰‹ï¼Œä½ éœ€è¦ä»ç”¨æˆ·çš„æè¿°ä¸­æå–ç”¨æˆ·çš„åå­—

            ### æ¡ˆä¾‹1

            ç”¨æˆ·ï¼šæˆ‘æ˜¯å°æ˜

            è¾“å‡ºï¼šå°æ˜

            ### æ¡ˆä¾‹2

            ç”¨æˆ·ï¼šwanna

            è¾“å‡ºï¼šwanna'
        - id: d626b658-4ba2-46b1-8525-630bd9f009e2
          role: user
          text: '{{#sys.query#}}'
        selected: false
        title: æå–ç”¨æˆ·å
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1736316957768'
      position:
        x: 1854
        y: 467
      positionAbsolute:
        x: 1854
        y: 467
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1736316957768'
          - text
          variable_selector:
          - conversation
          - username
          write_mode: over-write
        selected: false
        title: å˜é‡èµ‹å€¼
        type: assigner
        version: '2'
      height: 88
      id: '1736317156171'
      position:
        x: 2158
        y: 464.5
      positionAbsolute:
        x: 2158
        y: 464.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: not empty
            id: a313544a-7a37-463e-b3be-178a6ae0989a
            value: ''
            varType: string
            variable_selector:
            - conversation
            - username
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 2
        type: if-else
      height: 126
      id: '1736317289184'
      position:
        x: 1854
        y: 625
      positionAbsolute:
        x: 1854
        y: 625
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: 'è¯·å…ˆæä¾›ç”¨æˆ·åï¼Œå†å¼€å§‹è®°è´¦æˆ–æŸ¥è¯¢æµç¨‹

          å¦‚ï¼šæˆ‘å«wannaã€æˆ‘çš„åå­—æ˜¯wanna'
        desc: ''
        selected: false
        title: è®©ç”¨æˆ·æä¾›è‡ªå·±çš„åå­—
        type: answer
        variables: []
      height: 132
      id: '1736317316685'
      position:
        x: 2158
        y: 1066
      positionAbsolute:
        x: 2158
        y: 1066
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: not empty
            id: b862fc33-0384-441d-93ef-53e10c9d56f6
            value: ''
            varType: string
            variable_selector:
            - conversation
            - username
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 3
        type: if-else
      height: 126
      id: '1736317358189'
      position:
        x: 1854
        y: 912.5
      positionAbsolute:
        x: 1854
        y: 912.5
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: 'ç°åœ¨å¯ä»¥å¼€å§‹æä¾›æ¶ˆè´¹æ•°æ®äº†

          ä½ çš„æ•°æ®éƒ½ä¼šè®°å½•åˆ°{{#conversation.username#}}åä¸‹

          å¦‚æœæŸ¥è¯¢æ•°æ®ï¼Œä¹Ÿä¼šæŸ¥è¯¢{{#conversation.username#}}çš„æ•°æ®'
        desc: ''
        selected: false
        title: æä¾›åå­—åçš„å›å¤
        type: answer
        variables: []
      height: 153
      id: '1736317395413'
      position:
        x: 2766
        y: 464.5
      positionAbsolute:
        x: 2766
        y: 464.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: []
          type: none
        desc: ''
        headers: ''
        method: get
        params: name:{{#conversation.username#}}
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP è¯·æ±‚ 4
        type: http-request
        url: '{{#conversation.baseURL#}}/user/get_or_save'
        variables: []
      height: 138
      id: '1736318798024'
      position:
        x: 2462
        y: 464.5
      positionAbsolute:
        x: 2462
        y: 464.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: over-write
          value:
          - sys
          - user_id
          variable_selector:
          - conversation
          - username
          write_mode: over-write
        selected: false
        title: å…ˆå†™å…¥ç”¨æˆ·åå­—
        type: assigner
        version: '2'
      height: 88
      id: '1736407559905'
      position:
        x: 334
        y: 324
      positionAbsolute:
        x: 334
        y: 324
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: []
          type: none
        desc: ''
        headers: ''
        method: get
        params: name:{{#conversation.username#}}
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP è¯·æ±‚ 4 (1)
        type: http-request
        url: '{{#conversation.baseURL#}}/user/get_or_save'
        variables: []
      height: 138
      id: '17364078159750'
      position:
        x: 638
        y: 324
      positionAbsolute:
        x: 638
        y: 324
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: -2526.6000000000004
      y: -305.65
      zoom: 0.7
